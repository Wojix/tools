const input=document.getElementById("githubUrl") const result=document.getElementById("result") document.getElementById("generate").addEventListener("click",()=>{let url=input.value.trim() result.innerHTML="" if(!url){result.innerHTML="<li>URL を入力してください</li>";return} const regex=/^https:\/\/github\.com\/([^\/]+)\/([^\/]+)\/blob\/([^\/]+)\/(.+)$/ const match=url.match(regex) if(!match){result.innerHTML="<li>無効な GitHub ファイル URL です</li>";return} const user=match[1],repo=match[2],branch=match[3],path=match[4] const cdnLinks=[] cdnLinks.push({name:"jsDelivr",url:`https://cdn.jsdelivr.net/gh/${user}/${repo}@${branch}/${path}`}) cdnLinks.push({name:"unpkg",url:`https://unpkg.com/${user}/${repo}@${branch}/${path}`}) cdnLinks.push({name:"githack",url:`https://raw.githack.com/${user}/${repo}/${branch}/${path}`}) cdnLinks.push({name:"gitfast",url:`https://gitcdn.xyz/repo/${user}/${repo}/${branch}/${path}`}) cdnLinks.push({name:"cdnjs",url:"cdnjs は GitHub の blob からは直接生成できません"}) cdnLinks.forEach(link=>{const li=document.createElement("li") if(link.url.includes("http")){const a=document.createElement("a") a.href=link.url a.target="_blank" a.textContent=link.url const btn=document.createElement("button") btn.textContent="コピー" btn.className="copy" btn.onclick=()=>navigator.clipboard.writeText(link.url) li.innerHTML=`<strong>${link.name}:</strong> ` li.appendChild(a) li.appendChild(btn)}else{li.innerHTML=`<strong>${link.name}:</strong> ${link.url}`} result.appendChild(li)})})
